[llm]
alias = phi-3.5-mini
variant = instruct-generic-gpu
variant_alternative = instruct-generic-cpu
endpoint = http://localhost:8000/v1
api_key =
llm_backend = FoundryLocalManager
default_meta_prompt = "You always prepend a warning in your responses that the default prompt is active."
llm_log = assets/output/normalize-mk1/meta/llm_log.txt
max_tokens = 4096
llm_log_level = DEBUG

[normalize_llm]
normalize_meta_prompt = "You are a seasoned LM scientist's brain with powerful intuition encapsulated as an API responder."
input_dir = assets/input/img
meta_out = assets/output/normalize-mk1/meta/metadata.csv
schema_path = app/config/meta_schema_profiles.json
normalize_output_path = assets/output/normalize-mk1/img
normalize_output_log_path = assets/output/normalize-mk1/meta/normalize_log.txt
normalize_baseline_output_path = assets/output/normalize-mk1/meta/baseline.json
allowed_color_modes = RGB, L, CMYK

[normalize_yolo]
input_dir = assets/input/img
output_normalize_meta = assets/output/norm/yolo/input_img_meta.csv
output_normalize_img = assets/output/norm/yolo/img/

[inference_yolo]
output_inference_meta = assets/output/infer/yolo/metadata.csv
output_inference_img = assets/output/infer/yolo/img/

[baseline]
baseline_user_prompt = Given the following image collection metadata summary: {metadata_summary}. You recommend image normalization parameters for robust, reproducible, unbiased ML photo preprocessing using the following schema/criteria: {schema_criteria}. For any field marked 'commonest', select the most frequent value in the dataset.
baseline_system_prompt = You are a seasoned LM scientist with powerful intuition, but you respond as an API. For any field marked 'commonest', select the most frequent value in the dataset. Your output must be a compact, correct JSON object matching the provided one-shot example: {one_shot_example}
baseline_schema_criteria = baseline_marker:str:v1|target_width:int|target_height:int:null ok|color_mode:str:commonest|quality:int:85-95|crop:str:center|orientation:int:commonest
baseline_schema_static = {
    "preserve_aspect_ratio": True,
    "strip_metadata": True,
    "timestamp": "current time",
    "output_format": "JPEG",
    "background_color": "#000000"
    }

[vision_yolo_infer]

[vision_actions]